\chapter{Aritmetica Modulare}
È nota la definizione di \textbf{insieme delle classi resto modulo $n$} $\mathbb{Z}_n \; (\forall n \in \mathbb{N}, n \geq 2)$, come insime quoziente di $\mathbb{Z}$ rispetto alla \textbf{relazione di congruenza} modulo $n$:

{\centering
    $a \equiv_n b \Longleftrightarrow \exists h \in \mathbb{Z} \; \text{t.c.} \; b - a = h \cdot n$
\par}
Inoltre:

{\centering
    $\mathbb{Z}_n = \frac{\mathbb{Z}}{\equiv_n} = \{[0], [1], ..., [n-1]\}$
\par}

\section{Operazioni in $\mathbb{Z}_n$}
Su $\mathbb{Z}_n = \frac{\mathbb{Z}}{\equiv_n}$ sono ben poste la \textbf{somma} e il \textbf{prodotto}

\subsection{Somma in $\mathbb{Z}_n$}

{\centering
    $\boxplus : \mathbb{Z}_n \times \mathbb{Z}_n \mapsto \mathbb{Z}_n$ \\
    $([a], [b]) \mapsto [a] \boxplus [b] \overset{\text{def}}{=} [a + b]$
\par}

\begin{boxA}
    \textcolor{olive}{\textbf{Dimostrazione}}: per provare che la somma è ben posta, occorre provare che, $\forall a' \in [a]$ e $\forall b' \in [b]$, si ha $[a' + b'] = [a + b]$. \\ 
    Per \textbf{Hp.} avremo che $\exists h \in \mathbb{Z} \; \text{t.c.} \; a' - a = h \cdot n$ ed $\exists h' \in \mathbb{Z} \; \text{t.c.} \; b' - b = h' \cdot n$. Facendo la somma otteniamo:

    {\centering
        $(a' - a) + (b' - b) = (h' \cdot n) + (h \cdot n)$ \\
        $(a' + b') - (a + b) = n \cdot \underset{\in \mathbb{Z}}{\fcolorbox{red}{white}{$(h' - h)$}}$
    \par}
    In questo modo siamo riusciti a provare la nostra \textbf{Th.}
\end{boxA}

\subsection{Prodotto in $\mathbb{Z}_n$}

{\centering
    $\boxdot : \mathbb{Z}_n \times \mathbb{Z}_n \mapsto \mathbb{Z}_n$ \\
    $([a], [b]) \mapsto [a] \boxdot [b] \overset{\text{def}}{=} [a \cdot b]$
\par}

\begin{boxA}
    \textcolor{olive}{\textbf{Dimostrazione}}: per provare che il prodotto è ben posto, occorre provare che $\forall a' \in [a]$ e $\forall b' \in [b]$, si ha $[a' \cdot b'] = [a \cdot b]$. \\
    Per \textbf{Hp.} avremo che $\exists h \in \mathbb{Z} \; \text{t.c.} \; a' - a = h \cdot n$ ed $\exists h' \in \mathbb{Z} \; \text{t.c.} \; b' - b = h' \cdot n$. Moltiplicando membro a membro $a' = a + hn$ e $b' = b + h'n$ otteniamo:

    {\centering
        $a' \cdot b' = (a + hn) \cdot (b + h'n) = ab + ah'n + bhn + hh'n^2$ \\
        $a'b' - ab = ah'n + bhn + hh'n^2 = n \cdot (\underset{\in \mathbb{Z}}{\fcolorbox{red}{white}{$ah' + bh + hh'n$}})$
    \par}
    In questo modo siamo riusciti a provare la nostra \textbf{Th.}
\end{boxA}

\begin{flushleft}
    \textbf{Proposizione}: $(\mathbb{Z}_n, \boxplus, \boxdot)$ è un anello commutativo con unità, $\forall n \in \mathbb{N}, n \geq 2$ 

    \textbf{Teorema}: $(\mathbb{Z}_n, \boxplus, \boxdot)$ è un campo \textit{se e solo se} $n$ è \textbf{primo}.

    \begin{boxA}
        \textcolor{olive}{\textbf{Dimostrazione}}
        
        \textcolor{red}{\textbf{Prima Parte}} ``$\Rightarrow$'': se $n$ non è primo avremo che $n = a \cdot b, \; \text{con} \; \{a, b\} \neq \{n, 1\}$ ma allora in $\mathbb{Z}_n$ avremo che $[a] \cdot [b] = [a \cdot b] = n = [0]$ il che significa che $\mathbb{Z}_n$ ammette divisori dello zero e quindi non può essere un campo.

        \textcolor{red}{\textbf{Seconda Parte}} ``$\Leftarrow$'': se $n$ è primo, bisogna dimostrare che ogni elemento non nullo ammette l'inverso. Si può dire che $[a] \neq [0] \Rightarrow a \not \equiv_n 0$ quindi che $a$ non è multiplo di $n$.

        Quindi il $\gcd (a, n) = 1$, quindi per l'\textbf{identità di bezout} $\exists \alpha, \beta \in \mathbb{Z} \; \text{t.c.} \; 1 = \alpha \cdot a + \beta \cdot n$ che si può riscrivere come:

        {\centering
            $1 - \underset{\in [1]}{\fcolorbox{red}{white}{$a \cdot \alpha$}} = n \cdot \beta$
        \par}
        Ma se $a \cdot \alpha \in [1]$ questo implica che $[a \cdot \alpha] = [1]$ ovvero $[a] \cdot [\alpha] = [1]$ e quindi siccome 1 è l'elemento neutro per la moltiplicazione, avremo che $[\alpha]$ è l'inverso.
    \end{boxA}

    Se $n$ non è primo, occorre prestare attenzione ai calcoli in $\mathbb{Z}_n$. Ad esempio:

    {\centering
        $3 \cdot 5 \equiv_9 3 \cdot 8$, ma non è vero che $5 \equiv_9 8$
    \par}
    \textbf{Teorema}: $a \cdot c \equiv b \cdot c$ (mod $n$) $\Rightarrow \; a \equiv b$ (mod $\frac{n}{d}$) con $d = \gcd (c, n)$ \\
    \textbf{Corollario}: se $\gcd (c, n) = 1 \; \Rightarrow \; a \equiv b$ (mod $n$). Nel caso di $n$ \textbf{primo} avremo che 
    
    {\centering
        $\forall c \in \mathbb{Z}_n, \; c \neq 0 \rightarrow \gcd (c, n) = 1$
    \par}
\end{flushleft}

\newpage
\begin{flushleft}
    \textbf{Teorema}: ogni numero intero $n$ è congruo modulo 9 alla somma delle sue cifre.
    
    \begin{boxA}
        \textcolor{olive}{\textbf{Dimostrazione}}: esplicitando la natura posizionale del sistema decimale avremo:
        \begin{align*}
            n &= a_0 + a_1 \cdot 10 + a_2 \cdot 10^2 + a_3 \cdot 10^3 + ... + a_k \cdot 10^k = \\
            &= a_0 + a_1 \cdot (1 + 9) + a_2 \cdot (1 + 99) + a_3 \cdot (1 + 999) + ...+ a_k \cdot (1 + \underset{k}{\underbrace{99...999}}) = \\
            &= (a_0 + a_1 + a_2 + a_3 + ... + a_k) + 9 \cdot a_1 + 99 \cdot a_2 + 999 \cdot a_3 + ... + \underset{k}{\underbrace{99...999}} = \\
            &= (a_0 + a_1 + a_2 + a_3 + ... + a_k) + 9 \cdot (a_1 + 11 a_2 + 111 a_3 + ... + \underset{k}{\underbrace{11...111} a_k})
        \end{align*}
        Quindi $n$ si ottiene dalla somma delle sue cifre, agiungendone un multiplo di 9 il che prova la tesi. \textbf{Conseguenza}: prova del nove.
    \end{boxA}

        \textbf{Proprietà}:
        \begin{itemize}[nosep]
            \item \textbf{Criterio di Divisibilità per 3} (\textit{per 9}): un numero intero è divisibile per 3 (\textit{per 9}) se e solo se la somma delle sue cifre è divisibile per 3 (\textit{per 9}).
            \begin{boxA}
                \textcolor{olive}{\textbf{Dimostrazione}} \\
                $n \equiv a_k + a_{k-1} + ... + a_0$ sia modulo 3 che modulo 9
            \end{boxA}
            
            \item \textbf{Criterio di Divisibilità per 2 e per 5}: un numero intero è divisibile per 2 (\textit{o per 5}) se e solo se la cifra delle unità $a_0$ è divisibile per 2 (\textit{o per 5}).
            \begin{boxA}
                \textcolor{olive}{\textbf{Dimostrazione}} \\
                Per ogni $k > 1, \; 10^k \equiv 10$ sia modulo 2 che modulo 5. Quindi di avrebbe $n \equiv a_0$ sia modulo 2 che modulo 5
            \end{boxA}
            
            \item \textbf{Criterio di Divisibilità per 4 e per 25}: un numero intero è divisibile per 4 (o per 25) se e solo se il numero $a_1a_0$ formato dalle sue ultime due cifre è divisibile per 4 (o per 25).
            \begin{boxA}
                \textcolor{olive}{\textbf{Dimostrazione}} \\
                $100 = 2^25^2 \equiv 0$ sia modulo 4 che modulo 25. Allora ogni intero $n$ è congruo modulo 4 o 25 se le ultime due cifre sono divisibili per 4 o per 25
            \end{boxA}

            \item \textbf{Criterio di Divisibilità per $2^r$}: un numero intero è divisibile per $2^r$ se e solo se $2^r$ divide il numero costituito dalle ultime $r$ cifre di $n$
            \begin{boxA}
                \textcolor{olive}{\textbf{Dimostrazione}} \\
                È sufficente osservare che $10^k = 2^k5^k \equiv 0$ (mod $2^r$) $\forall k \geq r$
            \end{boxA}

            \item \textbf{Criterio di Divisibilità per 11}: un numero intero è divisibile per 11 se e solo se è divisibile per 11 la somma a segni alterni delle sue cifre:
            
            {\centering
                $a_0 - a_1 + a_2 - ... + (-1)^k a_k \equiv 0$ mod 11
            \par}
            \begin{boxA}
                \textcolor{olive}{\textbf{Dimostrazione}}: basta osservare che:

                {\centering
                    $10 \equiv -1 \; \text{mod} \; 11$  $\Rightarrow$   
                    $\begin{cases}
                        10^{2p} \equiv 1 \; \text{mod} \; 11 \\
                        10^{2p + 1} \equiv -1 \; \text{mod} \; 11
                    \end{cases}$
                \par}
            \end{boxA}
            
        \end{itemize}
\end{flushleft}

\section{Congruenze Lineari}

\begin{flushleft}
    Si chiama \textbf{congruenza lineare} un'equazione di primo grado in $\mathbb{Z}_n$ a coefficienti interi:

    {\centering
        $a \cdot x \equiv b \; \text{mod} \; n \qquad \text{con} \; a, b, n \in \mathbb{Z}, n \geq 2$
    \par}
    Che equivale a $[a] \cdot [x] = [b]$ \\
    \textbf{Teorema dell'Esistenza di Soluzioni}: una congruenza lineare ammette soluzioni se e solo se $\gcd (a, n)|b$
    \begin{boxA}
        \textcolor{olive}{\textbf{Dimostrazione}}: ad ogni \textbf{congruenza lineare} è possibile associare un'\textbf{equazione diofantea}. Infatti:

        {\centering
            $ax \equiv b \; \text{mod} \; n \; \Longleftrightarrow \; \exists h \in \mathbb{Z} \; \text{t.c.} \; b - ax = hn$ ovvero \fcolorbox{red}{white}{$ax + hn = b$}
        \par}
        Quindi come condizione necessaria e sufficiente per la risolubilità della congruenza lineare è verificare la risolubilità dell'equazione diofantea associata è $\gcd (a, n)|b$ 
    \end{boxA}

    \textbf{Teorema per la Risoluzione di Congruenze Lineari}: sia $ax \equiv b \; \text{mod} \; n$ una congruenza lineare tale che $d|b$ con $d = \gcd (a, n)$ e sia \fcolorbox{red}{white}{$x_0$} una sua particolare risoluzione. Allora:
    \begin{itemize}[nosep]
        \item in $\mathbb{Z}$ le soluzioni sono tutti e soli gli interi del tipo:

        {\centering
            $x_0 + h \cdot \frac{n}{d}, \; h \in \mathbb{Z}$
        \par}
        \item in $\mathbb{Z}_n$ le soluzioni sono tutti e soli li interi del tipo

        {\centering
            $x_0 + h \cdot \frac{n}{d}, \; h \in \mathbb{Z}_n$
        \par}
    \end{itemize}
    Inoltre, ogni soluzione in $\mathbb{Z}$ è congrua modulo $n$ ad una delle $d$ soluzioni in $\mathbb{Z}_n$

    \begin{boxA}
        \textcolor{orange}{\textbf{Esempio}} \\
        $12x = 15 \; \text{mod} \; 39 \; \rightarrow \; \gcd (12, 39) = 3|15 \Rightarrow \exists \text{Sol}$ \\
        \textbf{id. di bezout}: $3 = 12 (-3) + 39 (1) \rightarrow 5 \cdot 3 = 12 \cdot (-3 \cdot 5) + 39 \cdot (1 \cdot 5) \Rightarrow (\fcolorbox{red}{white}{$-15$}, 5)$ è soluzione \\
        In $\mathbb{Z}$: $\text{Sol} = \{(-15 + 13 \cdot h) \; \text{t.c.} \; h \in \mathbb{Z}\}$ \\
        In $\mathbb{Z}_n$: $\text{Sol} = \{(-15 + 13 \cdot h) \; \text{t.c.} \; h \in \mathbb{Z}_3\} = \{[-15]_{39}, [-2]_{39}, [11]_{39}\} = \{[24]_{39}, [37]_{39}, [11]_{39}\}$
    \end{boxA}
\end{flushleft}

\begin{boxA}
    \textcolor{olive}{\textbf{Dimostrazione}} \\
    \textcolor{red}{\textbf{Prima Parte}}: dimostriamo l'esistenza di una soluzione.

    {\centering
        \begin{minipage}[t]{0.45\textwidth}
            \centering
            \textbf{Hp.} $a \cdot x_0 = b \; \text{mod} \; n$
        \end{minipage}
        \begin{minipage}[t]{0.45\textwidth}
            \centering
            \textbf{Th.} $x_0 + h \cdot \frac{n}{d}$ è soluzione $\forall h \in \mathbb{Z}$
        \end{minipage}
    \par}
    Consideriamo $a \cdot x_0 + a \cdot h \frac{n}{d}$ per \textbf{Hp} $\exists k \in \mathbb{Z} \; \text{t.c.} \; a \cdot x_0 = b + k \cdot n$

    {\centering
    $a \cdot (x_0 + h \frac{n}{d}) = b + kn + h \cdot \underset{mcm(a, n)}{\fcolorbox{red}{white}{$\frac{an}{d}$}}$
    \par}
    Quindi avremo che \fcolorbox{red}{white}{$a(x_0 + h \frac{n}{d}) \equiv b \; \text{mod} \; n$}

    \textcolor{red}{\textbf{Seconda Parte}}: cerchiamo di dimostrare che \textbf{ogni} soluzione della congruenza lineare è del tipo considerato.

    {\centering
        \begin{minipage}[t]{0.45\textwidth}
            \centering
            \textbf{Hp.} $x_0, x'_0$ soluzioni di $a \cdot x = b \; \text{mod} \; n$
        \end{minipage}
        \begin{minipage}[t]{0.45\textwidth}
            \centering
            \textbf{Th.} $x'_0 \equiv x_0 + h \frac{n}{d}, \; h \in \mathbb{Z}$
        \end{minipage}
    \par}
    Sappiamo per \textbf{Hp} che $\exists k \in \mathbb{Z} \; \text{t.c.} \; a \cdot x_0 = b + k \cdot n$ e $\exists k' \in \mathbb{Z} \; \text{t.c.} \; a \cdot x'_0 = b + k' \cdot n$ andando a eseguire la differenza membro per membro si ottiene: 

    {\centering
        $a (x_0 - x'_0) = n (k - k') \rightarrow \frac{1}{d} \cdot a (x_0 - x'_0) = \frac{1}{d} \cdot n (k - k') $ \textbf{||} divido per $\gcd (a, n) = d$
    \par}
    Andando ad ottenere \fcolorbox{red}{white}{$\frac{a}{d}(x_0 - x'_0) = \frac{n}{d}(k - k')$} in questo modo $\frac{n}{d}$ divide il primo membro dell'equazione, ma poiché $\frac{n}{d}$ è coprimo con $\frac{a}{d}$, per il \textbf{lemma di euclide} $\frac{n}{d}$ divide anche $(x_0 - x'_0)$ e quindi avremo che

    {\centering
        $\exists h \in \mathbb{Z} \; \text{t.c.} \; x_0 - x'_0 = h \cdot \frac{n}{d}$
    \par}
    In questo modo abbiamo dimostrato l'esistenza di infinite soluzioni in $\mathbb{Z}$, bisogna fare la stessa cosa per $\mathbb{Z}_n$

    \textcolor{red}{\textbf{Terza Parte}}: dimostriamo che le soluzioni siano distinte in $\mathbb{Z}_n$, supponiamo per \textbf{assurdo} che:
    
    {\centering
        $\exists h, h' \in \mathbb{Z}_d \; \text{t.c.} \; x_0 + h \frac{n}{d} = x_0 + h' \frac{n}{d} \; \text{mod} \; n$ \\
        $\cancel{x_0} + h \frac{n}{d} = \cancel{x_0} + h' \frac{n}{d} \; \text{mod} \; n$
    \par}
    Per dividere entrambi i lati per $\frac{n}{d}$ dobbiamo anche dividere anche il modulo per per il $\gcd (\frac{n}{d}, n) = \frac{n}{d} \Rightarrow h \equiv h' \; \text{mod} \; (\frac{n}{n / d}) \Rightarrow \fcolorbox{red}{white}{$h \equiv h' \; \text{mod} \; d$}$ questo rappresenta che $h$ e $h'$ sono la stessa classe, quindi abbiamo raggiunto l'\textit{assurdo}.

    \textcolor{red}{\textbf{Quarta Parte}}: manca solo da dimostrare che ogni soluzione intera è congrua mod $n$ ad una delle $d$ soluzioni scritte:

    {\centering
        $\{x_0, x_0 + \frac{n}{d}, ..., x_0 + (d-1) \frac{n}{d}\}$
    \par}
    Consideriamo la generica soluzione intera $x_0 + h \frac{n}{d}, h \in \mathbb{Z}$. Per la divisione euclidea tra $h$ e $d$: $\exists q, r \in \mathbb{Z}, 0 \leq r \leq d - 1 \; \text{t.c.} \; h = qd + r$ avremo che:

    {\centering
        $x_0 + h \frac{n}{d} = x_0 (dq + r) \frac{n}{d} = x_0 + q\cancel{d}\frac{n}{\cancel{d}} + r \frac{n}{d} = x_0 + \underset{\text{multiplo di } n}{\fcolorbox{red}{white}{\cancel{qn}} + r \frac{d}{n}}$
    \par}
    Quindi avremo che \fcolorbox{red}{white}{$x_0 + h \frac{n}{d} = x_0 + r \frac{n}{d}$}, dove il resto $r$ varia tra $1$ e $d - 1$.
\end{boxA}

\begin{flushleft}
    \textbf{Corollario}: se $\gcd (a, n) = 1$ allora la congruenza lineare \fcolorbox{red}{white}{$ax \equiv b \; \text{mod} \; n$} ammette una ed una sola soluzione in $\mathbb{Z}_n$
\end{flushleft}

\begin{boxA}
    \textcolor{orange}{\textbf{Esempio}}

    {\centering
        $5x \equiv 3 \; \text{mod} \; 7$
    \par}
    Calcoliamo il \textit{massimo comun divisore}: $\gcd (5, 7) = 1$, allora esiste una sola soluzione in $\mathbb{Z}_7$, infatti troviamo i parametri dell'\textit{identità di bezout}: $1 = 5 \cdot (3) + 7 \cdot (-2)$

    {\centering
        $3 \cdot 1 = 5 \cdot (3 \cdot 3) + 7 \cdot (-2 \cdot 3) \Rightarrow (9, -6)$ è soluzione della diofantea
    \par}
    In particolare a noi interessa \fcolorbox{red}{white}{$x = 9$} è soluzione della congruenza. In $\mathbb{Z}$: $\text{Sol} = \{9 + k \cdot 7 \; \text{t.c.} \; k \in \mathbb{Z}\} = \{9 + 7k\}$, mentre in $\mathbb{Z}_7$:

    {\centering
        $\mathbb{Z}_7: \; \text{Sol} = \{9 + k \cdot 7 \; \text{t.c.} \; k \in \mathbb{Z}_1\} = \{[9]_7\} = \{[2]_7\}$
    \par}
\end{boxA}

\section{Sistemi di Congruenze Lineari}

\begin{flushleft}
    \textcolor{blue}{\textbf{Lemma}}: ogni sistema di congruenze lineari del tipo:

    {\centering
        $\begin{cases}
            a_1 \cdot x \equiv b_1 \quad \text{mod} \; n_1 \\
            a_2 \cdot x \equiv b_2 \quad \text{mod} \; n_2 \\
            \vdots \\
            a_r \cdot x \equiv b_r \quad \text{mod} \; n_r
        \end{cases}$
    \par}
    con $\gcd (n_i, n_j) = 1 \; \forall i \neq j$ e $\gcd (a_i, n_i) = d_i|b_i \; \forall i \in \mathbb{N}$, è equivalente ad un sistema del tipo:

    {\centering
        $\begin{cases}
            x \equiv c_1 \quad \text{mod} \; n'_1 \\
            x \equiv c_2 \quad \text{mod} \; n'_2 \\
            \vdots \\
            x \equiv c_r \quad \text{mod} \; n'_r
        \end{cases}$
    \par}
    in cui $\gcd (n'_i, n'_j) = 1 \; \forall i \neq j$

    \begin{boxA}
        \textcolor{olive}{\textbf{Dimostrazione}}: consideriamo la $i$-esima congruenza lineare del sistema $a_i \cdot x \equiv b_i \; \text{mod} \; n$ dividiamo entrambi i membri per il $\gcd (a_i, n_i) = d_i$. Per poterlo fare bisogna primi modificare in maniera opportuna anche il modulo $n'_i = \frac{n_i}{\gcd (d_i, n_i)}$ ottenendo:

        {\centering
            $\underset{\in \mathbb{Z}}{\underbrace{\frac{a_i}{d_i}}} \equiv \underset{\in \mathbb{Z}}{\underbrace{\frac{b_i}{d_i}}} \; \text{mod} \; \frac{n_i}{\gcd (d_i, n_i)} \Longrightarrow a'_i \cdot x \equiv b'_i \; \text{mod} n'_i$
        \par}
        Osservo che $\gcd (a'_i, n'_i) = \gcd (\frac{a_i}{d_i}, \frac{n_i}{d_i}) = 1$ che comporta che $a'_i$ e $n'_i$ sono \textbf{coprimi} tra loro. Quindi la $i$-esima congruenza lineare avrà \textit{una e una sola} soluzione in $\mathbb{Z}_{n'}$. Se chiamiamo $c_i$ l'unica soluzione della congruenza lineare  $a_i \cdot x \equiv_{n_i} b'_i$ allora posso riscriverla come \fcolorbox{red}{white}{$x \equiv c_i \; \text{mod} \; n'_i$} ottenendo così il sistema equivalente.
    \end{boxA}
\end{flushleft}

\begin{flushleft}
    \textbf{Teorema cinese del resto}

    {\centering
        \begin{minipage}[t]{0.45\textwidth}
            dato un sistema di congruenze lineari del tipo:
            \begin{math}
                \begin{cases}
                    x \equiv c_1 \quad \text{mod} \; n_1 \\
                    x \equiv c_2 \quad \text{mod} \; n_2 \\
                    \vdots \\
                    x \equiv c_r \quad \text{mod} \; n_r
                \end{cases}
            \end{math}
        \end{minipage}
        \hfill
        \begin{minipage}[t]{0.45\textwidth}
            con $\gcd (n_i, n_j) = 1 \; \forall i \neq j \; (i, j \in \{1, ..., r\})$ allora esiste sempre una ed una sola soluzione modulo $N = n_1 \cdot n_2 \cdot ... \cdot n_r$
        \end{minipage}
    \par}
    \begin{boxA}
        \textcolor{olive}{\textbf{Dimostrazione}}: \textbf{Th.} $\exists ! Sol \; \text{mod} \; N = n_1 \cdot n_2 \cdot ... \cdot n_r$ per farlo dobbiamo dimostrare che la soluzione \fcolorbox{red}{white}{\textbf{esiste}} ed è \fcolorbox{violet}{white}{\textbf{unica}}

        \textcolor{red}{\textbf{esistenza}}: indico $N_k = \frac{N}{n_k} \; \forall k \in \mathbb{N}$ e considero una congruenza ``fittizia''  $N_k \cdot x \equiv c_k \; \text{mod} \; n_k$ e osservo che il coefficienti della $x$ e il modulo sono \textbf{coprimi} quindi $\gcd (N_k, n_k) = 1$ infatti $N_k$ è il prodotto tra tutti i moduli escluso $n_k$. Quindi la $k$-esima congruenza ``fittizia'' ha una e una sola soluzione in $\mathbb{Z}_{nk}$ e lo indico con $\overline{x_k}$. Affermo che $\overline{x} = N_1 \cdot \overline{x_1} + N_2 \cdot \overline{x_2} + ... + N_r \cdot \overline{x_r}$ è la \textbf{soluzione} del sistema iniziale dato, per dimostrarlo sostituiamo $\overline{x}$ nella $k$-esima congruenza del sistema dato e dimostriamo che lo verifica. $\overline{x} \overset{?}{\equiv} c_k \; \text{mod} \; n_k$.

        {\centering
            $N_1 \cdot \overline{x_1} + N_2 \cdot \overline{x_2} + ... + N_r \cdot \overline{x_r} \equiv N_k \cdot \overline{x_k} \; \text{mod} n_k$
        \par}
        Questo semplificazione è possibile perché le varie coppie sono tutte multiple di $N_k$, quindi modulo $n_k$ si annullano. Ma $\overline{x_k}$ è soluzione della $k$-esima congruenza ``fittizia'' $N_K \cdot x \equiv_{n_k} c_K \Rightarrow N_k \cdot \overline{x_k} \equiv_{n_k}$. Quindi \fcolorbox{red}{white}{$\overline{x} \equiv_{n_k} c_k \; \forall k \in \mathbb{N}_r$} con $\overline{x}$ soluzione del sistema.

        \textcolor{violet}{\textbf{unicità}}: bisongna ora dimostrare che la soluzione $\overline{x}$ è unica modulo $N$: suppongo che sia $\overline{x}$ che $\overline{y}$ siano soluzioni del sistema dato. Cioè \fcolorbox{olive}{white}{$\overline{x} \equiv_{n_k} c_k \; \forall k = 1, ..., r$} e \fcolorbox{orange}{white}{$\overline{y} \equiv_{n_k} \; \forall k = 1, ..., r$}. Questo significa che $\overline{x} - \overline{y} \equiv_{n_k} 0 \; \forall k = 1, ..., r$ cioè $(\overline{x} - \overline{y})$ è un multiplo intero di $n_k \; \forall k = 1, ..., r$, ma poiché i moduli $n_1, n_2, ..., n_r$ sono tutti mutualmente coprimi, segue che $(\overline{x} - \overline{y})$ è multiplo intero di $n_1 \cdot n_2 \cdot ... \cdot n_r = N$, ovvero \fcolorbox{violet}{white}{$\overline{x} \equiv \overline{y} \; \text{mod} \; N$}
    \end{boxA}
\end{flushleft}

\begin{boxA}
    \textcolor{orange}{\textbf{Esercizio}}:

    {\centering
        \begin{minipage}[t]{0.45\textwidth}
            Dato il sistema di congruenze lineari, risolverlo:
            $\begin{cases}
                x \equiv 1 \; \text{mod} \; 2 \\
                x \equiv 1 \; \text{mod} \; 3 \\
                x \equiv 1 \; \text{mod} \; 4 \\
                x \equiv 1 \; \text{mod} \; 5 \\
                x \equiv 0 \; \text{mod} \; 7
            \end{cases}$
        \end{minipage}
        \hfill
        \begin{minipage}[t]{0.45\textwidth}
            Dato che ($\text{mod} \; 4$) e ($\text{mod} \; 2$) sono congrui allo stesso valore, allora posso rimuovere ($\text{mod} \; 2$) in quanto viene incluso completamente da ($\text{mod} \; 4$). Ora tutti i moduli sono \textbf{coprimi} tra loro, in questo modo $\exists ! \text{Sol} \; \text{mod} \; N, \; N = 3 \cdot 4 \cdot 5 \cdot 7 = 420$
        \end{minipage}
    \par}

    Troviamo la soluzione applicando la dimostrazione: \\
    $N_1 = \frac{420}{3} = 4 \cdot 5 \cdot 7 = 140$ \textbf{||} prima congruenza fittizia: \fcolorbox{red}{white}{$140x \equiv 1 \; \text{mod} \; 3$} \\
    $N_2 = \frac{420}{4} = 3 \cdot 5 \cdot 7 = 105$ \textbf{||} seconda congruenza fittizia: \fcolorbox{violet}{white}{$105x \equiv 1 \; \text{mod} \; 4$} \\
    $N_3 = \frac{420}{5} = 3 \cdot 4 \cdot 7 = 84$ \textbf{||} terza congruenza fittizia: \fcolorbox{brown}{white}{$84x \equiv 1 \; \text{mod} \; 5$} \\
    $N_4 = \frac{420}{7} = 3 \cdot 4 \cdot 5 = 60$ \textbf{||} quarta congruenza fittizia: $60x \equiv 0 \; \text{mod} \; 7 \Rightarrow \overline{x}_4 = 0 \; \text{mod} \; 7$
    \begin{itemize}[nosep]
        \item \fcolorbox{red}{white}{$104x - 3y \equiv 1$}, $\gcd (104, 3) = 1 = 140 \cdot (-1) + 3 \cdot (47)$ (\textbf{identità di bezout}) \\
        $\overline{x}_1 = -1 \; \text{mod} \; 3 \equiv_{3} 2$
        \item \fcolorbox{violet}{white}{$105x - 4y = 1$}, $\gcd (105, 4) = 1 = 105 \cdot (1) + 4 \cdot (-26)$ (\textbf{identità di bezout}) \\
        $\overline{x}_2 = 1 \; \text{mod} \; 4$
        \item \fcolorbox{brown}{white}{$84x - 5y = 1$}, $\gcd (84, 5) = 1 = 84 \cdot (-1) + 5 \cdot (17)$ (\textbf{identità di bezout}) \\
        $\overline{x}_3 = -1 \; \text{mod} \; 5 \equiv_5 4$
    \end{itemize}
    Allora l'unica soluzione del sistema è: $\overline{x} = N_1 \cdot \overline{x}_1 + N_2 \cdot \overline{x}_2 + N_3 \cdot \overline{x}_3 + N_4 \cdot \overline{x}_4 = 140 \cdot 2 + 105 \cdot 1 + 84 \cdot 4 + 60 \cdot 0 = 301 \; \text{mod} \; 420$
\end{boxA}

\begin{flushleft}
    \textcolor{blue}{\textbf{Corollario}}: dato un sistema di congruenze lineari del tipo: \\
    $\begin{cases} 
        a_1 x \equiv b_1 \quad \text{mod} \; n_1 \\
        a_2 x \equiv b_2 \quad \text{mod} \; n_2 \\
        \vdots \\
        a_r x \equiv b_r \quad \text{mod} \; n_r
    \end{cases}$ 

    con $\gcd (n_i, n_j) = 1 \; \forall i \neq j \; \text{e} \; \gcd (a_k, n_k) = 1 \; \forall k \in \{1, ..., r\}$ allora la soluzione è:

    {\centering
        $\overline{x} = N_1 \cdot \overline{x}_1 + N_2 \cdot \overline{x}_2 + ... + N_r \cdot \overline{x}_r \; \text{mod} \; N$
    \par}
    dove $N_k = \frac{N}{n_k}$ e $\overline{x}_k$ è soluzione della $k$-esima congruenza lineare fittizia: $(a_k \cdot N_k)x \equiv b_k \; \text{mod} \; n_k$
\end{flushleft}

\newpage
\begin{flushleft}
    \textbf{Teorema per la Risoluzione di Sistemi di due congruenze lineari}: un sisteam di due congruenze lineari del tipo: \\
    $\begin{cases}
        x \equiv a \; \text{mod} \; n \\
        x \equiv b \; \text{mod} \; m
    \end{cases}$ 

    ammette soluzioni \textbf{se e solo se} $\gcd (n, m) | (a - b)$ inoltre, se ammette soluzioni, la soluzione è unica modulo $M = mcm(m, n)$

    \begin{boxA}
        \textcolor{olive}{\textbf{Dimostrazione}} \\
        \textcolor{red}{\textbf{Prima Parte}} ``$\Rightarrow$''

        {\centering
            \begin{minipage}[t]{0.45\textwidth}
                \textbf{Hp.}: $\exists \text{Sol}$
            \end{minipage}
            \hfill
            \begin{minipage}[t]{0.45\textwidth}
                \textbf{Th.}: $\gcd (n, m) | (a - b)$
            \end{minipage}
        \par}

        Per \textbf{Hp.} $\exists \overline{x} \; \text{t.c.} \; \overline{x} \equiv a \; \text{mod} \; n$ e $\exists \overline{x} \; \text{t.c.} \; \overline{x} \equiv b \; \text{mod} \; n$, ma queste due ugualianze significano rispettivamente che: $\exists h \in \mathbb{Z} \; \text{t.c.} \; \overline{x} - a = k \cdot n$ e $\exists k \in \mathbb{Z} \; \text{t.c.} \; \overline{x} - b = k \cdot m$ sottraendo membro per membro si ottiene:

        {\centering
            $\overline{x} - b - (\overline{x} - a) = k \cdot m - n \cdot h \Longrightarrow$ \fcolorbox{red}{white}{$a - b = km + hn$}
        \par}
        Ponendo $\gcd (m, n) = d$ l'equazione è equivalente a: $k\alpha d - h \beta d = (k\alpha + h\beta) \cdot d \Rightarrow d|(a - b)$

        \textcolor{red}{\textbf{Seconda Parte}} ``$\Leftarrow$''

        {\centering
            \begin{minipage}[t]{0.45\textwidth}
                \textbf{Th.}: $\gcd (n, m) | (a - b)$
            \end{minipage}
            \hfill
            \begin{minipage}[t]{0.45\textwidth}
                \textbf{Hp.}: $\exists \text{Sol}$
            \end{minipage}
        \par}
        Se $d = \gcd (m, n)$, per l'\textbf{identità di bezout}: $\exists \alpha, \beta \in \mathbb{Z} \; \text{t.c.} \; d = \alpha n + \beta m$ e per \textbf{Hp.} sappiamo che $d|(a - b)$ ovvero che $\exists h \in \mathbb{Z} \; \text{t.c.} \; a - b = d \cdot h$ moltiplicando per l'\textbf{identità di bezout} otteniamo: \fcolorbox{red}{white}{$a - b = h \cdot (\alpha n + \beta m) \Longrightarrow a - b = h \alpha n + h \beta m$}.

        Posso riscrivere l'equazione come: $\underset{\overline{x}}{\underbrace{a - h \alpha n}} = \underset{\overline{x}}{\underbrace{b - h \beta m}}$, voglio provare che $\overline{x}$ è soluzione per il sistema dato.
        \begin{itemize}[nosep]
            \item $\overline{x} = a - h \alpha n \Rightarrow \overline{x} - a = \underset{\in \mathbb{Z}}{\underbrace{-h \alpha}} \cdot n$ allora possiamo dire $\overline{x} - a$ è multiplo di $n$ quindi $\overline{x} \equiv a \; \text{mod} \; n$
            \item $\overline{x} = b - h \beta m \Rightarrow \overline{x} - b = \underset{\in \mathbb{Z}}{\underbrace{h \beta}} \cdot m$ allora possiamo dire $\overline{x} - b$ è multiplo di $m$ quindi $\overline{x} \equiv b \; \text{mod} \; m$
        \end{itemize}
    \end{boxA}
    \begin{boxA}
        \textcolor{orange}{\textbf{Esempio}} 

        {\centering
            \begin{minipage}[t]{0.45\textwidth}
                Il sistema di congruenze lineari: \\
                $\begin{cases}
                    x \equiv 7 \; \text{mod} \; 9 \\
                    x \equiv 3 \; \text{mod} \; 5
                \end{cases}$
            \end{minipage}
            \hfill
            \begin{minipage}[t]{0.45\textwidth}
                $\gcd (9, 5) = 1 | (7 - 3)$ applico l'\textbf{identità di bezout}: $1 = 9 (-1) + 5 (2)$, moltiplico entrami i lati per $(7 - 3) = 4$ e otteniamo: $4 = 9 (-4) + 5 (8)$
            \end{minipage}
        \par}
        La nostra soluzione $\overline{x}$ sarà $\underset{43}{\underbrace{7 - 9 (-4)}} = \underset{43}{\underbrace{3 + 5 (8)}}$, quindi $\overline{x} = 43$ sarà l'\textbf{unica soluzione} del sistema modulo $M = mcm(9, 5) = \frac{9 \cdot 5}{\gcd (9, 5)} = 45$ \fcolorbox{olive}{white}{$\overline{x} = 43 \; \text{mod} \; 45$}
    \end{boxA}
\end{flushleft}

\section{Applicazioni dell'Aritmetica Modulare}
\begin{flushleft}
    Sull'insieme $\mathbb{Z}_r \times \mathbb{Z}_s \; \forall r, s \in \mathbb{Z}$ si definisce un'operazione logica di \textbf{somma} e di \textbf{prodotto}: 

    {\centering
        $([a]_r, [b]_s) + ([a']_r, [b']_s) \overset{\text{def}}{=} ([a + a']_r, [b + b']_s)$ \\
        $([a]_r, [b]_s) \cdot ([a']_r, [b']_s) \overset{\text{def}}{=} ([a \cdot a']_r, [b \cdot b']_s)$
    \par}
    Tali operazioni strutturano $\mathbb{Z}_r \times \mathbb{Z}_s$ come un \textbf{anello}. 

    \textbf{Proprietà}: se $r$ e $s$ sono \textbf{coprimi} allora la corrispondenza $f: \mathbb{Z}_{rs} \mapsto \mathbb{Z}_r \times \mathbb{Z}_s$ definita come $[x]_{rs} \mapsto ([x]_r, [x]_s)$ è un'applicazione \textbf{biunivoca} che conserva somma e prodotto (è un ``\textbf{isomorfismo di anelli}'').

    \begin{boxA}
        \textcolor{olive}{\textbf{Dimostrazione}}: bisogna provare che \fcolorbox{red}{white}{$\forall([a]_r, [b]_s) \in \mathbb{Z}_r \times \mathbb{Z}_s \; \exists ! [x]_{rs} \; \text{t.c.} \; f([x]_{rs}) = ([a]_r, [b]_s)$} la condizione è però equivalente a dimostrare che il sistema di congruenze lineari:

        $\begin{cases}
            x \equiv_r a \\
            x \equiv_s b
        \end{cases}$ \\

        siccome il sistema ha $\gcd (r, s) = 1$ (per \textbf{Hp} sono coprimi) allora ammetterà una e una sola soluzione modulo $mcm(r, s) = r \cdot s$.
    \end{boxA}
    \begin{boxA}
        \textcolor{orange}{\textbf{Esercizio}} \\
        $\mathbb{Z}_{21} \rightarrow [17]_{21} \cdot [19]_{21} = \; ? \quad$ 21 è pari a $3 \cdot 7$ che sono coprimi.

        {\centering
            \begin{minipage}[t]{0.45\textwidth}
                $[17]_{21} = ([2]_3, [3]_7)$ \\
                $[19]_{21} = ([1]_3, [5]_7)$
            \end{minipage}
            \hfill
            \begin{minipage}[t]{0.45\textwidth}
                $\Rightarrow ([2 \cdot 1]_3, [3 \cdot 5]_7) = ([2]_3, [1]_7)$
            \end{minipage}
        \par}
        
        \begin{flushleft}
            Avremo il sistema associato: 

            $\begin{cases}
                x \equiv 2 \; \text{mod} \; 3 \\
                x \equiv 1 \; \text{mod} \; 7
            \end{cases}$ 

            $\gcd (3, 7) = 1 = 3 (-2) + 7 (1) \quad \rightarrow \quad 2 - 3(-2) = 1 + 7(1) \quad \rightarrow \quad 8 = 8$ \\
            Quindi \fcolorbox{red}{white}{$\mathbb{Z}_{21} \rightarrow [17]_{21} \cdot [19]_{21} = \; [8]_{21}$}
        \end{flushleft}
    \end{boxA}
\end{flushleft}

\newpage
\begin{flushleft}
    \textbf{Piccolo Teorema di Fermat}: sia $p$ un numero \textbf{primo}, allora $\forall a \in \mathbb{Z} \; \text{t.c.} \; \gcd (a, p) = 1$ si ha:

    {\centering
        $a^{p - 1} \equiv 1 \; \text{mod} \; p$
    \par}
    \begin{boxA}
        \textcolor{olive}{\textbf{Dimostrazione}} (di Eulero): consideriamo i primi $p - 1$ multipli di $a$: $a, 2a, 3a, ..., (p - 1)a$ poiché il $\gcd (a, p) = 1$ nessuno di questi è multiplo di $p$, infatti, se $r \cdot a = h \cdot p$ con $1 \leq r \leq p - 1$ allora seguirebbe che affinché $p$ divida $r$, $p$ non dovrebbe essere compreso tra 1 e $r$, il che ci porta all'\textbf{assurdo}. 
        
        Inoltre i $(p - 1)$ multipli di $a$ considerati sono mutualmente \textbf{non} congrui $\text{mod} \; p$, infatti se fosse $r \cdot a \equiv s \cdot a \; \text{mod} \; p$ con $1 \leq r < s \leq p - 1$ si avrebbe che $(s - r) \cdot a = h \cdot p$ ma questo è \textbf{assurdo} perché $r$ e $s$ sono compresi tra 1 e $r$.

        Segue che in $\mathbb{Z}_p$ $[a]_p, [2a]_p, ...[(p-1)a]_p$ non sono altro che $\mathbb{Z}_p = \{[1]_p, [2]_p, ..., [(p-1)]_p\}$ (a meno dell'ordine).
        \begin{align*}
            a \cdot 2a \cdot ... \cdot (p - 1)a &\equiv_p 1 \cdot 2 \cdot ... (p - 1) \\
            [1 \cdot 2 \cdot ... \cdot (p - 1)] \cdot a^{p - 1} &\equiv_p 1 \cdot 2 \cdot ... (p - 1) \\
            [1 \cdot 2 \cdot ... \cdot (p - 1)] \cdot a^{p - 1} &\equiv 1 \cdot 2 \cdot ... (p - 1) \; \text{mod} \; \frac{p}{\gcd (p, (1, 2, ..., p - 1))} \\
            a^{p - 1} &\equiv_p 1
        \end{align*}
        Il $\gcd (p, (1, 2, ..., p - 1))$ è pari a $1$ in quanto se $1, 2, ..., p - 1$ fosse multiplo di $p$, si avrebbe che $p$ dividerebbe uno dei suoi fattori $\rightarrow$ \textbf{assurdo}
    \end{boxA}
    \textcolor{blue}{\textbf{Corollario}}: sia $p$ un numero \textbf{primo}. Allora, per ogni $a \in \mathbb{Z}$ si ha:

    {\centering
        $a^p \equiv a \; \text{mod} \; p$
    \par}

    \textbf{Test di Non Primalità}: se, fissato $n \in \mathbb{Z}, \; \exists a \in \mathbb{Z} \; | \; a^n \cancel{\equiv} a \; \text{mod} \; n$, allora $n$ non è primo.
\end{flushleft}